{"version":3,"sources":["Form.js","Persons.js","services/contacts.js","Error.js","App.js","index.js"],"names":["Form","props","handleSubmit","newName","handleName","filterName","newNumber","handleNumber","onSubmit","id","value","onChange","onKeyUp","type","className","Persons","persons","filteredPersons","handleDelete","length","map","person","name","number","detector_id","onClick","filteredPerson","baseUrl","contacts","getAll","axios","get","create","newObject","post","deleteContact","delete","update","updatedNumber","put","Error","message","style","App","useState","setPersons","setFilteredPersons","setNewName","setNewNumber","errorMessage","setErrorMessage","alertStyle","setAlertStyle","useEffect","contactService","then","response","data","event","preventDefault","personsNames","index","indexOf","includes","currentPerson","changedPerson","window","confirm","setTimeout","catch","error","newContact","concat","target","regex","RegExp","filter","test","getAttribute","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a53f7cb.chunk.js","sourcesContent":["import React from \"react\";\n\nexport function Form(props) {\n  const {\n    handleSubmit,\n    newName,\n    handleName,\n    filterName,\n    newNumber,\n    handleNumber\n  } = props;\n  return (\n    <form onSubmit={handleSubmit}>\n      {/* <h3>Add new contact</h3> */}\n      <div>\n        name:\n        <input\n          id=\"nameInput\"\n          value={newName}\n          onChange={handleName}\n          onKeyUp={filterName}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          id=\"numberInput\"\n          type=\"tel\"\n          value={newNumber}\n          onChange={handleNumber}\n        />\n      </div>\n      <br></br>\n      <div>\n        <button className=\"btn btn-success\" type=\"submit\">\n          <b>Add contact</b>\n        </button>\n      </div>\n    </form>\n  );\n}\n","import React from \"react\";\n\nexport const Persons = props => {\n  const { persons, filteredPersons, newName, handleDelete } = props;\n  if (newName.length === 0) {\n    return persons.map(person => {\n      return (\n        <div key={person.name}>\n          <li>\n            {person.name} - - - {person.number}\n          </li>\n          <button\n            detector_id={person.id}\n            onClick={handleDelete}\n            className=\"btn btn-danger\"\n          >\n            Delete\n          </button>\n        </div>\n      );\n    });\n  } else {\n    return filteredPersons.map(filteredPerson => {\n      return (\n        <div key={filteredPerson.name}>\n          <li>\n            {filteredPerson.name} - - - {filteredPerson.number}\n            <button\n              detector_id={filteredPerson.id}\n              onClick={handleDelete}\n              className=\"btn btn-danger\"\n            >\n              Delete\n            </button>\n          </li>\n        </div>\n      );\n    });\n  }\n};\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n\treturn axios.get(baseUrl);\n};\n\nconst create = newObject => {\n\treturn axios.post(baseUrl, newObject);\n};\n\nconst deleteContact = id => {\n\treturn axios.delete(`${baseUrl}/${id}`);\n};\n\nconst update = (id, updatedNumber) => {\n\treturn axios.put(`${baseUrl}/${id}`, updatedNumber);\n};\n\nconst contacts = {\n\tgetAll,\n\tcreate,\n\tdeleteContact,\n\tupdate,\n};\n\nexport default contacts;\n","const Error = ({ message, style }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div id=\"messg\" className={style}>\n      {message}\n    </div>\n  );\n};\n\nexport default Error;\n","import React, { useState, useEffect } from \"react\";\nimport { Form } from \"./Form\";\nimport \"./index.css\";\nimport { Persons } from \"./Persons\";\nimport contactService from \"./services/contacts\";\nimport Error from \"./Error\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [filteredPersons, setFilteredPersons] = useState([]);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState([]);\n\tconst [errorMessage, setErrorMessage] = useState(null);\n\tconst [alertStyle, setAlertStyle] = useState(\"success\");\n\n\tuseEffect(() => {\n\t\tcontactService.getAll().then(response => {\n\t\t\tsetPersons(response.data);\n\t\t});\n\t}, []);\n\n\tconst handleSubmit = event => {\n\t\tevent.preventDefault();\n\t\tlet personsNames = persons.map(person => person.name);\n\t\tlet index = personsNames.indexOf(newName);\n\t\tif (personsNames.includes(newName)) {\n\t\t\tlet currentPerson = persons[index];\n\t\t\tif (currentPerson.number !== newNumber) {\n\t\t\t\tlet changedPerson = {\n\t\t\t\t\t...currentPerson,\n\t\t\t\t\tnumber: newNumber,\n\t\t\t\t};\n\t\t\t\tlet id = changedPerson.id;\n\t\t\t\tlet result = window.confirm(\n\t\t\t\t\t`Would you like to replace number of ${newName}?`\n\t\t\t\t);\n\t\t\t\tif (result) {\n\t\t\t\t\tcontactService\n\t\t\t\t\t\t.update(id, changedPerson)\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\t\tpersons.map(person =>\n\t\t\t\t\t\t\t\t\tperson.id !== id ? person : response.data\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetAlertStyle(\"success\");\n\t\t\t\t\t\t\tsetErrorMessage(`Changed number of ${newName}`);\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tsetAlertStyle(\"error\");\n\t\t\t\t\t\t\tsetErrorMessage(`Something went wrong`);\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetAlertStyle(\"error\");\n\t\t\t\tsetErrorMessage(`${newName} with this number already exists`);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t}, 4000);\n\t\t\t}\n\t\t} else {\n\t\t\tconst newContact = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber,\n\t\t\t};\n\t\t\tcontactService\n\t\t\t\t.create(newContact)\n\t\t\t\t.then(response => {\n\t\t\t\t\tsetPersons(persons.concat(response.data));\n\t\t\t\t\tsetAlertStyle(\"success\");\n\t\t\t\t\tsetErrorMessage(`${newName} added to contacts`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t}, 4000);\n\n\t\t\t\t\tsetNewName(\"\");\n\t\t\t\t\tsetNewNumber(\"\");\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetAlertStyle(\"error\");\n\t\t\t\t\tsetErrorMessage(\"validation error\");\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t}, 4000);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst handleName = event => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumber = event => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst handleDelete = event => {\n\t\tlet id = event.target.getAttribute(\"detector_id\");\n\t\tlet result = window.confirm(\"Do you want to delete?\");\n\t\tif (result) {\n\t\t\tcontactService.deleteContact(id).then(() => {\n\t\t\t\tcontactService.getAll().then(response => {\n\t\t\t\t\tsetPersons(response.data);\n\t\t\t\t});\n\t\t\t\tsetAlertStyle(\"success\");\n\t\t\t\tsetErrorMessage(`deleted from contacts`);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t}, 4000);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst filterName = () => {\n\t\tlet regex = new RegExp(\"^\" + newName, \"i\");\n\t\tlet filteredPersons = persons.filter(person => {\n\t\t\treturn regex.test(person.name);\n\t\t});\n\n\t\tif (newName.length === 0) {\n\t\t\tsetPersons(persons);\n\t\t} else {\n\t\t\tsetFilteredPersons(filteredPersons);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h1> Phonebook </h1>{\" \"}\n\t\t\t<Error message={errorMessage} style={alertStyle} />{\" \"}\n\t\t\t<Form\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleName={handleName}\n\t\t\t\tfilterName={filterName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumber={handleNumber}\n\t\t\t/>{\" \"}\n\t\t\t<h3> Numbers </h3>{\" \"}\n\t\t\t<ul id=\"myUL\">\n\t\t\t\t<Persons\n\t\t\t\t\tpersons={persons}\n\t\t\t\t\tfilteredPersons={filteredPersons}\n\t\t\t\t\tnewName={newName}\n\t\t\t\t\thandleDelete={handleDelete}\n\t\t\t\t/>{\" \"}\n\t\t\t</ul>{\" \"}\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}