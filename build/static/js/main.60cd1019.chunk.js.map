{"version":3,"sources":["Form.js","Persons.js","services/contacts.js","Error.js","App.js","index.js"],"names":["Form","props","handleSubmit","newName","handleName","filterName","newNumber","handleNumber","onSubmit","id","value","onChange","onKeyUp","type","className","Persons","persons","filteredPersons","handleDelete","length","map","person","name","number","detector_id","onClick","filteredPerson","baseUrl","contacts","getAll","axios","get","create","newObject","post","deleteContact","delete","update","updatedNumber","put","Error","message","style","App","useState","setPersons","setFilteredPersons","setNewName","setNewNumber","errorMessage","setErrorMessage","alertStyle","setAlertStyle","useEffect","contactService","then","response","data","console","log","event","preventDefault","personsNames","index","indexOf","includes","currentPerson","changedPerson","window","confirm","setTimeout","catch","error","newContact","concat","target","regex","RegExp","filter","test","getAttribute","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.60cd1019.chunk.js","sourcesContent":["import React from \"react\";\n\nexport function Form(props) {\n  const {\n    handleSubmit,\n    newName,\n    handleName,\n    filterName,\n    newNumber,\n    handleNumber\n  } = props;\n  return (\n    <form onSubmit={handleSubmit}>\n      {/* <h3>Add new contact</h3> */}\n      <div>\n        name:\n        <input\n          id=\"nameInput\"\n          value={newName}\n          onChange={handleName}\n          onKeyUp={filterName}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          id=\"numberInput\"\n          type=\"tel\"\n          value={newNumber}\n          onChange={handleNumber}\n        />\n      </div>\n      <br></br>\n      <div>\n        <button className=\"btn btn-success\" type=\"submit\">\n          <b>Add contact</b>\n        </button>\n      </div>\n    </form>\n  );\n}\n","import React from \"react\";\n\nexport const Persons = props => {\n  const { persons, filteredPersons, newName, handleDelete } = props;\n  if (newName.length === 0) {\n    return persons.map(person => {\n      return (\n        <div key={person.name}>\n          <li>\n            {person.name} - - - {person.number}\n          </li>\n          <button\n            detector_id={person.id}\n            onClick={handleDelete}\n            className=\"btn btn-danger\"\n          >\n            Delete\n          </button>\n        </div>\n      );\n    });\n  } else {\n    return filteredPersons.map(filteredPerson => {\n      return (\n        <div key={filteredPerson.name}>\n          <li>\n            {filteredPerson.name} - - - {filteredPerson.number}\n            <button\n              detector_id={filteredPerson.id}\n              onClick={handleDelete}\n              className=\"btn btn-danger\"\n            >\n              Delete\n            </button>\n          </li>\n        </div>\n      );\n    });\n  }\n};\n","import axios from \"axios\";\n\n// const baseUrl = \"https://stormy-badlands-91104.herokuapp.com/api/persons\";\n\nconst baseUrl = \"api/persons\";\n\n// \"koala\"\n\nconst getAll = () => {\n\treturn axios.get(baseUrl);\n};\n\nconst create = newObject => {\n\treturn axios.post(baseUrl, newObject);\n};\n\nconst deleteContact = id => {\n\treturn axios.delete(`${baseUrl}/${id}`);\n};\n\nconst update = (id, updatedNumber) => {\n\treturn axios.put(`${baseUrl}/${id}`, updatedNumber);\n};\n\nconst contacts = {\n\tgetAll,\n\tcreate,\n\tdeleteContact,\n\tupdate,\n};\n\nexport default contacts;\n","const Error = ({ message, style }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div id=\"messg\" className={style}>\n      {message}\n    </div>\n  );\n};\n\nexport default Error;\n","import React, { useState, useEffect } from \"react\";\nimport { Form } from \"./Form\";\nimport \"./index.css\";\nimport { Persons } from \"./Persons\";\nimport contactService from \"./services/contacts\";\nimport Error from \"./Error\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [filteredPersons, setFilteredPersons] = useState([]);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState([]);\n\tconst [errorMessage, setErrorMessage] = useState(null);\n\tconst [alertStyle, setAlertStyle] = useState(\"success\");\n\n\tuseEffect(() => {\n\t\tcontactService.getAll().then(response => {\n\t\t\tsetPersons(response.data);\n\t\t\tconsole.log(response.data);\n\t\t});\n\t}, []);\n\n\tconst handleSubmit = event => {\n\t\tevent.preventDefault();\n\t\tlet personsNames = persons.map(person => person.name);\n\t\tlet index = personsNames.indexOf(newName);\n\t\tif (personsNames.includes(newName)) {\n\t\t\tlet currentPerson = persons[index];\n\t\t\tif (currentPerson.number !== newNumber) {\n\t\t\t\tlet changedPerson = { ...currentPerson, number: newNumber };\n\t\t\t\tlet id = changedPerson.id;\n\t\t\t\tlet result = window.confirm(\n\t\t\t\t\t`Would you like to replace number of ${newName}?`\n\t\t\t\t);\n\t\t\t\tif (result) {\n\t\t\t\t\tcontactService\n\t\t\t\t\t\t.update(id, changedPerson)\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\t\tpersons.map(person =>\n\t\t\t\t\t\t\t\t\tperson.id !== id ? person : response.data\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetAlertStyle(\"success\");\n\t\t\t\t\t\t\tsetErrorMessage(`Changed number of ${newName}`);\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tsetAlertStyle(\"error\");\n\t\t\t\t\t\t\tsetErrorMessage(`Something went wrong`);\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetAlertStyle(\"error\");\n\t\t\t\tsetErrorMessage(`${newName} with this number already exists`);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t}, 4000);\n\t\t\t}\n\t\t} else {\n\t\t\tconst newContact = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber,\n\t\t\t};\n\t\t\tcontactService.create(newContact).then(response => {\n\t\t\t\tsetPersons(persons.concat(response.data));\n\t\t\t});\n\t\t\tsetAlertStyle(\"success\");\n\t\t\tsetErrorMessage(`${newName} added to contacts`);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetErrorMessage(null);\n\t\t\t}, 4000);\n\t\t}\n\n\t\tsetNewName(\"\");\n\t\tsetNewNumber(\"\");\n\t};\n\n\tconst handleName = event => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumber = event => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst handleDelete = event => {\n\t\tlet id = event.target.getAttribute(\"detector_id\");\n\t\tlet result = window.confirm(\"Do you want to delete?\");\n\t\tif (result) {\n\t\t\tcontactService.deleteContact(id).then(() => {\n\t\t\t\tcontactService.getAll().then(response => {\n\t\t\t\t\tsetPersons(response.data);\n\t\t\t\t});\n\t\t\t\tsetAlertStyle(\"success\");\n\t\t\t\tsetErrorMessage(`deleted from contacts`);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t}, 4000);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst filterName = () => {\n\t\tlet regex = new RegExp(\"^\" + newName, \"i\");\n\t\tlet filteredPersons = persons.filter(person => {\n\t\t\treturn regex.test(person.name);\n\t\t});\n\n\t\tif (newName.length === 0) {\n\t\t\tsetPersons(persons);\n\t\t} else {\n\t\t\tsetFilteredPersons(filteredPersons);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Error message={errorMessage} style={alertStyle} />\n\t\t\t<Form\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleName={handleName}\n\t\t\t\tfilterName={filterName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumber={handleNumber}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<ul id=\"myUL\">\n\t\t\t\t<Persons\n\t\t\t\t\tpersons={persons}\n\t\t\t\t\tfilteredPersons={filteredPersons}\n\t\t\t\t\tnewName={newName}\n\t\t\t\t\thandleDelete={handleDelete}\n\t\t\t\t/>\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}